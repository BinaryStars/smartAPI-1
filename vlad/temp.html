<!DOCTYPE html>

<html ng-app="myApp">
<head>
    <meta charset="utf-8">
    <title>Templates</title>
    <script src="triplestore.js" type="text/javascript"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    

    <style>
    .input-group {
        height: 30px;
        min-height: 0px;
    }
    </style>

</head>

<body>

    <div class="col-lg-11 col-lg-offset-1" ng-controller="templateController">

        <h1>W3C HLCS Dataset Description - Template</h1>


<div class="container-fluid">
    <div class="row">
        <div class="col-lg-6">

            <ul class="nav nav-tabs">
              <li role="presentation" id="sum" class="active" ng-click="reloadForm('sum')"><a href="#">Summary</a></li>
              <li role="presentation" id="ver" ng-click="reloadForm('ver')"><a href="#">Version</a></li>
              <li role="presentation" id="dis" ng-click="reloadForm('dis')"><a href="#">Distribution</a></li>
            </ul>


            <table width="100%">
                <tr>
                    <td><h3><strong>Subject</strong></h3></td>
                    <td>
                        <div class="input-group input-group-lg">
                            <label for="subject" /></label><input type="text" class="form-control" id="subject" name="subject" ng-model="subject" placeholder="IRI" /></td>
                        </div>
                </tr>
                <tr>
                    <td width="20%"><label for="title"><h3>Title</h3></label></td>
                    <td width="50%" height="60px">
                        <div class="input-group input-group-lg">
                            <span class="input-group-addon" id="basic-addon2">rdf:type</span>
                            <input type="text" class="form-control" aria-describedby="basic-addon2" id="title" name="title" placeholder="rdf:langString"/>
                            <span class="input-group-addon">MUST</span>
                            <a id="add_element" href="javascript:void(0)" class="add_element" style="display: none;"><i class="icon-plus icon-white"></i>Add element</a>
                            <a id="delete_element" href="javascript:void(0)" class="delete_element" style="display: none;"><i class="icon-remove icon-black"></i>Remove element</a>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td width="20%"><label for="alt_title"><h3>Alternative title</h3></label></td>
                    <td width="50%" height="60px">
                        <div class="input-group input-group-lg">
                            <span class="input-group-addon" id="basic-addon2">rdf:alternative</span>
                            <input type="text" class="form-control" aria-describedby="basic-addon2" id="alt_title" name="alt_title" placeholder="rdf:langString" />
                            <span class="input-group-addon">MAY</span>
                            <a id="add_element" href="javascript:void(0)" class="add_element" style="display: none;"><i class="ui-icon-plus ui-icon-green"></i>Add element</a>
                            <a id="delete_element" href="javascript:void(0)" class="delete_element" style="display: none;"><i class="ui-icon-minus ui-icon-red"></i>Remove element</a>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td width="20%"><label for="keywords"><h3>Keywords</h3></label></td>
                    <td width="50%" height="60px">
                        <div class="input-group input-group-lg">
                            <span class="input-group-addon" id="basic-addon2">dcat:keyword</span>
                            <input type="text" class="form-control" aria-describedby="basic-addon2" id="keywords" name="keywords" placeholder="xsd:string" />
                            <span class="input-group-addon">MAY</span>
                            <a id="add_element" href="javascript:void(0)" class="add_element" style="display: none;"><i class="ui-icon ui-icon-plus"></i>Add element</a>
                            <a id="delete_element" href="javascript:void(0)" class="delete_element" style="display: none;"><i class="ui-icon ui-icon-minus"></i>Remove element</a>
                        </div>
                    </td>
                </tr>

                <tr>
                    <td></td>
                    <td>
                        <button class="btn btn-primary btn-lg" type="submit">Submit</button>
                        <button class="btn btn-warning btn-lg" type="reset">Reset</button>
                    </td>
                </tr>
            </table>
        </div>


        <div class="col-lg-6">

            <h2>RDF Triples</h2>

            <button class="btn btn-primary btn-lg" type="button" ng-click="displayTriples()">Display all triples</button>
            <button class="btn btn-danger btn-lg" type="button" ng-click="removeTriples()">Remove all triples</button>

            <br /><br />
    
            <div><strong>Number of triples: {{tripleOutput.length}}</strong></div>
            <div ng-repeat="triple in tripleOutput">
                {{triple}}
            </div>

        </div>

    </div>
</div>


    <script>
    // $( document.body ).click(function() {
    //   if ( $( "div:first" ).is( ":hidden" ) ) {
    //     $( "div" ).show( "slow" );
    //   } else {
    //     $( "div" ).slideUp();
    //   }
    // });

    function insertAfter(referenceNode, newNode) {
        referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);
    }

    function addElement(btn) {
        parent = btn.parentNode;
        grandparent = parent.parentNode;

        if ($("#grandparent > div").length >= 50) {
            alert("Too many keywords listed - please contact site administrator for assistance");
            return false;
        }

        var element = $(parent).clone(true).get(0);
        $(element).hide().insertAfter(btn.parentNode, element).slideDown(500);
    }

    function deleteElement(btn) {
        parent = btn.parentNode;
        grandparent = parent.parentNode;

        if ($("#grandparent > div").length == 1) {
            alert("Have to have at least one element");
            return false;
        }

        $(parent).slideUp(500, function() { $(this).remove(); });
    }

    $('.add_element').click(function() {
        return addElement(this);
    });
    $('.delete_element').click(function() {
        return deleteElement(this);
    })

    element = document.getElementById("keywords");
    if (element) {
        parent = element.parentNode;
        $(parent).find('.add_element')[0].style.display = "inline";
        $(parent).find('.delete_element')[0].style.display = "inline";
    }
    </script>

</body>
</html>
